<div class="sb-pageSection my-24 ui container" [appTelemetryImpression]="telemetryImpression">
  <div class="sb-pageSection-header">
  </div>
  <div class="sb-pageSection-content">
    <div class="sb-pageSection-header">
    <h3>My programs</h3>
    </div>
    <ng-container *ngIf="(programsList$ | async ) as programsList else loading">
      <div class="ui five item menu">
        <a class=" item" [class.active]="nominationStatus === 'Nomination Approved'" (click)="changeNominationStatus('Nomination Approved')">Approved</a>
        <a class=" item" [class.active]="nominationStatus === 'Nomination Rejected'" (click)="changeNominationStatus('Nomination Rejected')">Rejected</a>
        <a class=" item" [class.active]="nominationStatus === 'Nominated'" (click)="changeNominationStatus('Nominated')">Nominated</a>
        <a class=" item" [class.active]="nominationStatus === 'Contributed'" (click)="changeNominationStatus('Contributed')">Contributed</a>
        <a class=" item" [class.active]="nominationStatus === 'Program Closed'" (click)="changeNominationStatus('Program Closed')">Closed</a>
      </div>
      <ng-container *ngIf="programsList && programsList.length else noResult">
        <table class="sb-table sb-table-striped sb-table-hover sb-table-sortable sb-table-fixed">
          <thead class="sb-table-header sb-table-thead-gray">
            <tr>
              <th class="sb-sort-icon">Program</th>
              <th class="sb-sort-icon">No of Textbooks</th>
              <th class="sb-sort-icon">Grades, Mediums, Subjects</th>
              <th class="sb-sort-icon">Contribution Date</th>
              <th class="sb-sort-icon">Nomination Status</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>
          <tbody class="sb-table-body">
            <tr *ngFor="let program of programsList" [routerLink]="['/contribute/nominatedtextbooks/' + program.programId]" class="hand">
              <td> 
                <div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold">
                  {{program?.name}}
                </div>
                <div class="px-10 py-7 ui grey label mini b-0">CBSE</div>
              </td>
              <td>
                <div  suiPopup popupHeader="Text Books" popupText="Textbookname1, Textbookname1, Textbookname1">3 Textbooks</div>
              </td>
              <td>
                <div class="sb__ellipsis sb-color-primary" suiPopup popupHeader="Grades" popupText="Grade 7, Grade 2, Grade 3">Grade 7, Grade 2, Grade 3</div>
                <hr class="divider">
                <div class="sb__ellipsis" suiPopup popupHeader="Medium" popupText="English, Hindi, Marathi">English, Hindi, Marathi</div>
                <hr class="divider">
                <div class="sb__ellipsis" suiPopup popupHeader="Subjects" popupText="Mathematics, Science, History">Mathematics, Science, History</div>
              </td>
              <td>
                <div>March 15th, 2019 <br><em>11 days to go</em></div>
              </td>
              <td>
                <div >{{nominationStatus}}</div>
              </td>
              <td class="text-center">
                <button class="sb-btn sb-btn-xs sb-btn-outline-primary" *ngIf="nominationStatus === 'Nominated' || nominationStatus === 'Nomination Approved'">View & Upload</button>
                <button class="sb-btn sb-btn-xs sb-btn-outline-primary" *ngIf="nominationStatus === 'Nomination Rejected' || nominationStatus === 'Contributed' || nominationStatus === 'Program Closed'">View</button>
              </td>
            </tr>
          </tbody>
        </table> 
      </ng-container>
      <ng-template #noResult>
        <app-no-result [data]="{messageText: resourceService.messages.stmsg.m0006}"></app-no-result>
      </ng-template>
    </ng-container>
    <ng-template #loading>
      <app-loader></app-loader>
    </ng-template>
  </div>
</div>